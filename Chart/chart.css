:root{--bar:#99c2f2;--bar-2:#77b2ff;--axis:#64748b;--grid:#e2e8f0;--text:#0b1022;--title:#0b1022;--bg:#f8fafc;--card-bg:rgba(255,255,255,.65);--card-border:rgba(0,0,0,.08)}
[data-theme='dark']{--axis:#9aa4b2;--grid:#2b3240;--text:#e5e7eb;--title:#eef2ff;--bg:#0b1220;--card-bg:rgba(22,27,41,.55);--card-border:rgba(255,255,255,.06)}
@media (prefers-color-scheme: dark){:root:not([data-theme]){--axis:#9aa4b2;--grid:#2b3240;--text:#e5e7eb;--title:#eef2ff;--bg:#0b1220;--card-bg:rgba(22,27,41,.55);--card-border:rgba(255,255,255,.06)}}
*{box-sizing:border-box}html,body{margin:0;padding:0}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
.charts{max-width:1100px;margin:24px auto;padding:0 16px;background:
    radial-gradient(1200px 600px at -10% -10%, #b3d4ff22, transparent 60%),
    radial-gradient(900px 500px at 110% 10%, #ffd58022, transparent 60%),
    var(--bg);
    border-radius:18px}
.charts-hero{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.hero-inner{display:flex;width:100%;align-items:center;justify-content:space-between;padding:8px 2px}
.brand{display:flex;align-items:center;gap:10px}
.brand .dot{width:10px;height:10px;background:linear-gradient(135deg,#ffd580,#ffbc5e);border-radius:50%;box-shadow:0 0 0 6px #ffd58022}
.brand h1{margin:0;font-size:22px;letter-spacing:.6px;color:var(--title)}
.btn{appearance:none;border:none;background:linear-gradient(135deg,#0ea5e9,#6366f1);color:#fff;border-radius:10px;padding:8px 12px;font-weight:600;cursor:pointer;box-shadow:0 6px 16px rgba(99,102,241,.28);transition:transform .15s ease}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:transparent;color:var(--text);border:1px solid var(--grid);box-shadow:none}
.charts-controls{display:flex;align-items:center;gap:8px;margin:8px 0 16px}
.pills{display:flex;gap:8px;overflow:auto;scroll-snap-type:x proximity;padding-bottom:6px}
.pill{scroll-snap-align:start;white-space:nowrap;padding:6px 10px;border:1px solid #e5e7eb;border-radius:999px;background:rgba(255,255,255,.75);backdrop-filter:saturate(140%) blur(4px);cursor:pointer}
.pill[aria-selected="true"]{background:#0ea5e9;color:#fff;border-color:#0ea5e9}
.mobile-dropdown{position:relative;display:none}
.dd-toggle{display:flex;align-items:center;gap:8px;width:100%;justify-content:space-between;padding:12px 14px;border-radius:14px;border:1px solid #e5e7eb;background:#ffffff;font-weight:600;backdrop-filter:none}
.dd-toggle svg{width:18px;height:18px}
.dd-panel{position:absolute;left:50%;width:50%;min-width:fit-content;top:calc(100% + 6px);background:#ffffff;border:1px solid var(--card-border);border-radius:8px;box-shadow:0 8px 20px rgba(0,0,0,.18);padding:2px;max-height:30vh;overflow:auto;animation:ddIn .2s ease-out forwards;transform-origin:top}
[data-theme='dark'] .dd-panel{background:#161b29}
@media (prefers-color-scheme: dark){:root:not([data-theme]) .dd-panel{background:#161b29}}
.dd-item{padding:4px 5px;border-radius:6px;cursor:pointer;font-size:11px;line-height:1.4}
.dd-item:hover{background:rgba(14,165,233,.1)}
.dd-backdrop{position:fixed;inset:0;background:rgba(2,6,23,.65);backdrop-filter:blur(2px)}
@keyframes ddIn{from{opacity:0;transform:translate(-50%,-8px) scale(0.95)}to{opacity:1;transform:translate(-50%,0) scale(1)}}
.category-select{padding:6px 8px;border:1px solid #e5e7eb;border-radius:6px}
.chart-wrap{border:1px solid var(--card-border);border-radius:16px;padding:10px 10px 14px;background:var(--card-bg);backdrop-filter:saturate(160%) blur(8px);position:relative;z-index:1}
.chart-title{margin:6px 6px 10px;font-size:18px}
.svg-wrap{width:100%;overflow:auto}
svg{width:100%;height:auto;display:block}
.axis text{fill:var(--axis);font-size:12px}
.axis path,.axis line{stroke:var(--axis);stroke-width:1}
.grid line{stroke:var(--grid)}
.bar{fill:url(#barFill);opacity:.95;filter:drop-shadow(0 1px 1px rgba(0,0,0,.08))}
.bar:hover{opacity:1;filter:drop-shadow(0 3px 6px rgba(0,0,0,.12))}
.value-label{fill:#111827;font-size:12px;text-anchor:middle}
/* subtle heading separator */
.chart-title{display:flex;align-items:center;gap:10px}
.chart-title::after{content:"";flex:1;height:1px;background:linear-gradient(90deg,rgba(0,0,0,0),var(--grid),rgba(0,0,0,0));}
@media (max-width:640px){.chart-title{font-size:16px}}
@media (max-width:768px){
  .charts-controls{flex-direction:column;align-items:stretch;gap:10px;margin-top:4px}
  .pills{display:none}
  .mobile-dropdown{display:block;width:100%;position:relative;z-index:10}
  .dd-toggle{position:relative;z-index:11;pointer-events:auto !important;touch-action:manipulation;cursor:pointer}
  .dd-panel{position:absolute;left:50%;width:50%;min-width:fit-content;top:calc(100% + 6px);max-height:25vh;border-radius:8px;z-index:1000;pointer-events:auto !important;padding:2px}
  .dd-backdrop{display:none;z-index:999;backdrop-filter:none;pointer-events:auto !important}
  .dd-backdrop:not([hidden]){display:block}
  .dd-item{pointer-events:auto !important;touch-action:manipulation;cursor:pointer;padding:3px 4px;font-size:10px;line-height:1.4}
  .category-select{display:none}
  .chart-wrap{backdrop-filter:none;background:var(--card-bg);position:relative;z-index:1}
  [data-theme='dark'] .chart-wrap{background:rgba(22,27,41,.95)}
  .btn{position:relative;z-index:10;pointer-events:auto !important;touch-action:manipulation;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0.1)}
  .hero-actions{position:relative;z-index:10;pointer-events:auto !important}
}

/* Dark mode crispness */
[data-theme='dark'] .dd-toggle{background:#141a2a;border-color:#2b3240;color:#e5e7eb}

.tooltip{position:absolute;inset:auto auto auto 0;transform:translate(-50%,-8px);background:#0b1220;color:#fff;font-size:12px;padding:6px 8px;border-radius:8px;box-shadow:0 6px 16px rgba(0,0,0,.25);pointer-events:none}
.tooltip::after{content:"";position:absolute;left:50%;bottom:-6px;transform:translateX(-50%);border:6px solid transparent;border-top-color:#0b1220}


