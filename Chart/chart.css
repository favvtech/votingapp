:root{--bar:#99c2f2;--bar-2:#77b2ff;--axis:#64748b;--grid:#e2e8f0;--text:#0b1022;--title:#0b1022;--bg:#f8fafc;--card-bg:rgba(255,255,255,.65);--card-border:rgba(0,0,0,.08)}
[data-theme='dark']{--axis:#9aa4b2;--grid:#2b3240;--text:#e5e7eb;--title:#eef2ff;--bg:#0b1220;--card-bg:rgba(22,27,41,.55);--card-border:rgba(255,255,255,.06)}
@media (prefers-color-scheme: dark){:root:not([data-theme]){--axis:#9aa4b2;--grid:#2b3240;--text:#e5e7eb;--title:#eef2ff;--bg:#0b1220;--card-bg:rgba(22,27,41,.55);--card-border:rgba(255,255,255,.06)}}
*{box-sizing:border-box}html,body{margin:0;padding:0}body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;background:var(--bg);color:var(--text)}
.charts{max-width:1100px;margin:24px auto;padding:0 16px;background:
    radial-gradient(1200px 600px at -10% -10%, #b3d4ff22, transparent 60%),
    radial-gradient(900px 500px at 110% 10%, #ffd58022, transparent 60%),
    var(--bg);
    border-radius:18px}
.charts-hero{display:flex;justify-content:space-between;align-items:center;margin-bottom:14px}
.hero-inner{display:flex;width:100%;align-items:center;justify-content:space-between;padding:8px 2px}
.brand{display:flex;align-items:center;gap:10px}
.brand .dot{width:10px;height:10px;background:linear-gradient(135deg,#ffd580,#ffbc5e);border-radius:50%;box-shadow:0 0 0 6px #ffd58022}
.brand h1{margin:0;font-size:22px;letter-spacing:.6px;color:var(--title)}
.btn{appearance:none;border:none;background:linear-gradient(135deg,#0ea5e9,#6366f1);color:#fff;border-radius:10px;padding:8px 12px;font-weight:600;cursor:pointer;box-shadow:0 6px 16px rgba(99,102,241,.28);transition:transform .15s ease}
.btn:hover{transform:translateY(-1px)}
.btn.ghost{background:transparent;color:var(--text);border:1px solid var(--grid);box-shadow:none}
.charts-controls{display:flex;align-items:center;gap:8px;margin:8px 0 16px}
.pills{display:flex;gap:8px;overflow:auto;scroll-snap-type:x proximity;padding-bottom:6px}
.pill{scroll-snap-align:start;white-space:nowrap;padding:6px 10px;border:1px solid #e5e7eb;border-radius:999px;background:rgba(255,255,255,.75);backdrop-filter:saturate(140%) blur(4px);cursor:pointer}
.pill[aria-selected="true"]{background:#0ea5e9;color:#fff;border-color:#0ea5e9}
.mobile-dropdown{position:relative;display:none}
.bs-toggle{display:flex;align-items:center;gap:8px;width:100%;justify-content:space-between;padding:12px 14px;border-radius:14px;border:1px solid #e5e7eb;background:#ffffff;font-weight:600;backdrop-filter:none;cursor:pointer;transition:background-color 0.2s ease}
.bs-toggle:active{background:#f8fafc}
.bs-toggle svg{width:18px;height:18px;transition:transform 0.2s ease}
.bs-toggle[aria-expanded="true"] svg{transform:rotate(180deg)}
.bs-sheet{position:fixed;bottom:0;left:0;right:0;background:#ffffff;border-radius:24px 24px 0 0;box-shadow:0 -4px 20px rgba(0,0,0,0.15);z-index:1000;max-height:85vh;display:flex;flex-direction:column;transform:translateY(100%);transition:transform 0.3s cubic-bezier(0.32, 0.72, 0, 1);touch-action:pan-y}
.bs-sheet:not([hidden]){transform:translateY(0)}
[data-theme='dark'] .bs-sheet{background:#161b29;box-shadow:0 -4px 20px rgba(0,0,0,0.3)}
@media (prefers-color-scheme: dark){:root:not([data-theme]) .bs-sheet{background:#161b29}}
.bs-handle{width:40px;height:4px;background:#d1d5db;border-radius:2px;margin:12px auto 0;cursor:grab;flex-shrink:0}
.bs-handle:active{cursor:grabbing}
[data-theme='dark'] .bs-handle{background:#4b5563}
.bs-header{padding:16px 20px 12px;flex-shrink:0;border-bottom:1px solid #e5e7eb}
[data-theme='dark'] .bs-header{border-bottom-color:#2b3240}
.bs-title{margin:0;font-size:18px;font-weight:600;color:var(--text)}
.bs-content{padding:8px 20px 24px;overflow-y:auto;flex:1;-webkit-overflow-scrolling:touch}
.bs-item{display:flex;align-items:center;padding:14px 16px;border-radius:12px;cursor:pointer;transition:background-color 0.15s ease;margin-bottom:4px;font-size:15px;font-weight:500;color:var(--text);border:none;background:transparent;width:100%;text-align:left}
.bs-item:hover{background:rgba(14,165,233,0.08)}
.bs-item:active{background:rgba(14,165,233,0.12)}
.bs-item[aria-selected="true"]{background:rgba(14,165,233,0.15);color:#0ea5e9;font-weight:600}
.bs-overlay{position:fixed;inset:0;background:rgba(2,6,23,0.4);backdrop-filter:blur(4px);z-index:999;opacity:0;transition:opacity 0.3s ease;pointer-events:none}
.bs-overlay:not([hidden]){opacity:1;pointer-events:auto}
@keyframes ddIn{from{opacity:0;transform:translate(-50%,-8px) scale(0.95)}to{opacity:1;transform:translate(-50%,0) scale(1)}}
@keyframes ddInMobile{from{opacity:0;transform:translateX(-50%) translateY(-8px) scale(0.95)}to{opacity:1;transform:translateX(-50%) translateY(0) scale(1)}}
.category-select{padding:6px 8px;border:1px solid #e5e7eb;border-radius:6px}
.chart-wrap{border:1px solid var(--card-border);border-radius:16px;padding:10px 10px 14px;background:var(--card-bg);backdrop-filter:saturate(160%) blur(8px);position:relative;z-index:1}
.chart-title{margin:6px 6px 10px;font-size:18px}
.svg-wrap{width:100%;overflow:auto}
svg{width:100%;height:auto;display:block}
.axis text{fill:var(--axis);font-size:12px}
.axis path,.axis line{stroke:var(--axis);stroke-width:1}
.grid line{stroke:var(--grid)}
.bar{fill:url(#barFill);opacity:.95;filter:drop-shadow(0 1px 1px rgba(0,0,0,.08))}
.bar:hover{opacity:1;filter:drop-shadow(0 3px 6px rgba(0,0,0,.12))}
.value-label{fill:#111827;font-size:12px;text-anchor:middle}
/* subtle heading separator */
.chart-title{display:flex;align-items:center;gap:10px}
.chart-title::after{content:"";flex:1;height:1px;background:linear-gradient(90deg,rgba(0,0,0,0),var(--grid),rgba(0,0,0,0));}
@media (max-width:640px){.chart-title{font-size:16px}}
@media (max-width:768px){
  .charts{overflow-x:hidden}
  .charts-controls{flex-direction:column;align-items:stretch;gap:10px;margin-top:4px;overflow-x:hidden}
  .pills{display:none}
  .mobile-dropdown{display:block;width:100%;position:relative;z-index:10}
  .bs-toggle{position:relative;z-index:11;pointer-events:auto !important;touch-action:manipulation}
  .bs-sheet{max-height:85vh;will-change:transform}
  .bs-content{max-height:calc(85vh - 100px)}
  .bs-item{pointer-events:auto !important;touch-action:manipulation;-webkit-tap-highlight-color:rgba(14,165,233,0.1)}
  .category-select{display:none}
  .chart-wrap{backdrop-filter:none;background:var(--card-bg);position:relative;z-index:1;padding:10px 0 14px}
  [data-theme='dark'] .chart-wrap{background:rgba(22,27,41,.95)}
  .chart-title{margin:6px 16px 10px}
  .svg-wrap{overflow-x:auto;overflow-y:auto;width:100%;-webkit-overflow-scrolling:touch;margin:0}
  svg{width:800px;max-width:none;height:auto;display:block}
  .btn{position:relative;z-index:10;pointer-events:auto !important;touch-action:manipulation;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0.1)}
  .hero-actions{position:relative;z-index:10;pointer-events:auto !important}
}


/* Dark mode crispness */
[data-theme='dark'] .bs-toggle{background:#141a2a;border-color:#2b3240;color:#e5e7eb}

.tooltip{position:absolute;inset:auto auto auto 0;transform:translate(-50%,-8px);background:#0b1220;color:#fff;font-size:12px;padding:6px 8px;border-radius:8px;box-shadow:0 6px 16px rgba(0,0,0,.25);pointer-events:none}
.tooltip::after{content:"";position:absolute;left:50%;bottom:-6px;transform:translateX(-50%);border:6px solid transparent;border-top-color:#0b1220}


